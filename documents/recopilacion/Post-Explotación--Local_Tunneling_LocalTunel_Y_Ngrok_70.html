<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Local Tunneling: LocalTunel Y Ngrok</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Local Tunneling: LocalTunel Y Ngrok</h1><br/><p><h1>¿Qué es un tunel local?</h1></p><p></p><p>Desde una máquina cualquiera se pueden servir diferentes aplicaciones como un servidor web apache por puerto 80, servicio de ficheros ftp por puerto 43, etc...</p><p></p><p>Todos estos servicios se ofrecen a nivel de red, cualquier equipo pondría la ip local del equipo y en el puerto correspondiente aparecería ese servicio pero desde internet, desde otra red no podría acceder porque lo que se expone a internet de nuestra infraestructura local como puede ser tu red de casa es el router que actúa como nodo central para dirigir las comunicaciones entre la red de Internet a la subred que gestiona y en la que nos encontramos.</p><p></p><p>Si queremos exponer este servicio a la red de internet deberíamos configurar en nuestro router un port forwarding que redireccione todo el tráfico dirigido a un puerto por ejemplo el 80 del router al puerto 80 de la máquina donde estés ofreciendo el servicio web.</p><p></p><p>De forma ofensiva podríamos querer por ejemplo exponer un servicio en una infraestructura de red en una empresa que solo se puede utilizar de forma local a internet para poder ex-filtrar o consumir ese servicio sin necesidad de estar en su misma subred.</p><p></p><p>Por supuesto en una organización como nodo de gestión no utlizan un router, tienen diferentes medios como proxys, etc. Todo esto de forma que no se pueda exponer el puerto de ninguna máquina dentro de la organización a internet.</p><p></p><p>Podemos resumir el local tunneling como exponer estos servicios locales a internet y se pueden usar varias herramientas.</p><p></p><p><h2>Ngrok</h2>:</p><p></p><p><a href="https://ngrok.com">https://ngrok.com</a></p><p></p><p>Esta es principalmente de pago pero tiene alguna opción gratuíta por la que tendremos que registrarnos</p><p></p><p><h2>Localtunnel</h2>:</p><p></p><p><a href="https://github.com/localtunnel/localtunnel">https://github.com/localtunnel/localtunnel</a></p><p></p><p>Esta opción es completamente gratuita.</p><p></p><p><div class="codebox"><pre><br />sudo apt install npm<br />npm install <span style="color:#000000;font-weight:700">-</span>g localtunnel<br />lt <span style="color:#000000;font-weight:700">-</span>p <span style="color:#ce5c00;font-weight:400">80</span><br /></pre></div></p><p></p><p>Le indicamos un puerto y lo que ocurre es que nos crea una URL.</p><p></p><p>El proceso que realiza es conectar nuestra máquina a una instancia que tiene en un servidor, que como es hacia fuera si que lo permiten los firewalls etc.</p><p>Cuando se establece la conexión la máquina actúa como el servidor que va a recibir las peticiones y un cliente externo puede conectarse.</p><p></p><p>Más resumidamente es que nos conectamos a un servicio externo por lo que está permitido por el firewall y luego un cliente externo de internet se conecta a ese servicio donde la maquina que ofrece el servicio en el puerto 80 también está conectada y esta responde al cliente como si estuviese consumiendo el servicio sin problema, el servidor intermedio gestiona los paquetes.</p><p></p><p>De esta forma podremos una vez con acceso a la infraestructura realizar un túnel con algún servicio que queramos consumir de forma externa sin necesidad de estar continuamente dentro de la infraestructura.</p></div>
</body>
</html>
