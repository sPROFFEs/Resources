<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Explotación en hosts</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Explotación en hosts</h1><br/><p></p><p></p><p>Todos los fallos de seguridad que tienen que ver con sistemas con un servicio que está corriendo en un servidor.</p><p></p><p>Ese servicio es vulnerable y nosotros podemos aprovechar esa vulnerabilidad para ganar acceso a ese servidor.</p><p></p><p><strong><h2>¿Qué es un explo¡t?</h2></strong></p><p></p><p>Normalmente es una porción de código fuente que puede estar escrita prácticamente en cualquier lenguaje de programación en Python, en C, etc; que lo que va a hacer es tratar de aprovechar una vulnerabilidad y ofrecernos un beneficio.</p><p></p><p><strong><h3>¿Y un payload?</h3></strong></p><p></p><p>Es concretamente lo que se va a ejecutar, el código que se inyecta una vez explotada la vulnerabilidad.</p><p></p><p>El código que se ejecuta en esa máquina, aprovechando la vulnerabilidad, es lo que se denomina payload.</p><p></p><p></p><p></p><p></p><p></p><p><ul><li>→ <h3>→ Explotación manual de vulnerabilidades:</h3></li></ul></p><p></p><p>Vamos a utilizar el informe de NMAP para buscar alguna vulnerabilidad para explotar.</p><p></p><p><img src="images/111-1.png" alt="images/111-1.png" /></p><p></p><p><a href="https://seclists.org/fulldisclosure/2010/Jun/277">https://seclists.org/fulldisclosure/2010/Jun/277</a></p><p></p><p>Concretamente esta aplicación de UnrealIRC versión 3.2.8.1 parece </p><p>que estaba backdoored en su versión oficial, es decir, que habían incluido un mecanismo en la propia aplicación para que tú pudieras acceder al sistema que estaba alojando esta aplicación y sirviéndolo sin necesidad de tener que pasar por los procesos de autorización y de autenticación.</p><p></p><p><a href="https://github.com/Ranger11Danger/UnrealIRCd-3.2.8.1-Backdoor">https://github.com/Ranger11Danger/UnrealIRCd-3.2.8.1-Backdoor</a></p><p></p><p>Fundamentalmente es código Python que primero parsear una serie de argumentos en el que tenemos una IP, un puerto y un payload.</p><p>Y después se establece una conexión mediante la creación de una serie de sockets con la máquina que nosotros le hemos indicado.</p><p></p><p>En este exploit los payloads son 3 que ejecutan una reverse shell:</p><p></p><p><img src="images/111-2.png" alt="images/111-2.png" /></p><p></p><p>Cambiamos la ip de destino a la de nuestra máquina:</p><p><img src="images/111-3.png" alt="images/111-3.png" /></p><p></p><p>Ponemos a escuchar nuestra máquina kali:</p><p><div class="codebox"><pre><br />nc -lvnp 5555</pre></div></p><p><div class="codebox"><pre><br /><span style="color:#000000;font-weight:700">chmod</span> 777 exploit.py<br />.<span style="color:#000000;font-weight:700">/</span>exploit.py -h<br />.<span style="color:#000000;font-weight:700">/</span>exploit.py -payload python 192.168.20.128 6667<br /></pre></div></p><p></p><p><img src="images/111-4.png" alt="images/111-4.png" /></p><p></p><p><img src="images/111-5.png" alt="images/111-5.png" /></p><p></p><p><img src="images/111-6.png" alt="images/111-6.png" /></p><p></p><p></p></div>
</body>
</html>
